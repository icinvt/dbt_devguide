### 2. プロジェクトの構造

#### ファイル命名規則

ファイル命名規則は、プロジェクト内の一貫性を保ち、チーム全体での理解を容易にするために重要です。本ガイドラインでは、以下の命名規則に従うことを推奨します。これにより、モデルやファイルの役割が明確になり、プロジェクトの拡張性と保守性が向上します。

---

##### 1. **モデルファイル（`.sql`）の命名規則**
モデルファイルは、モデルのタイプを識別できるよう、プレフィックスを付けた命名規則を採用します。以下は推奨されるプレフィックスの一覧です。

| モデルタイプ            | プレフィックス    | 例                          |
|-------------------------|------------------|-----------------------------|
| ステージングモデル       | `stg_`           | `stg_orders.sql`           |
| 中間モデル              | `int_`           | `int_customer_summary.sql` |
| ファクトテーブル（事実） | `fct_`           | `fct_sales.sql`            |
| ディメンションテーブル   | `dim_`           | `dim_customers.sql`        |
| レポートモデル           | `rpt_`           | `rpt_monthly_sales.sql`    |

- **ファイル名は小文字を使用する**: 全てのファイル名は小文字で記述し、単語間はアンダースコア（`_`）で区切ります。
  - 良い例: `stg_orders.sql`
  - 悪い例: `StgOrders.SQL`, `STG-ORDERS.sql`

- **モデル名の一貫性**: ファイル名はモデルが扱うデータの内容を簡潔に表現する必要があります。
  - 良い例: `dim_product_details.sql`（「製品の詳細」に関するディメンションモデル）
  - 悪い例: `dim_table1.sql`（モデルの内容が不明瞭）

---

##### 2. **YAMLファイル（`.yml`）の命名規則**
- YAMLファイルは、対応するモデルまたはディレクトリの内容を明確に示す名前を付けます。
  - ステージングモデル用: `stg_<データソース名>.yml`
    - 例: `stg_orders_source.yml`
  - 中間モデル用: `intermediate.yml` または `int_<サブディレクトリ名>.yml`
    - 例: `int_customer_summary.yml`
  - マートモデル用: `marts.yml` または `fct_`/`dim_`で始まる名前
    - 例: `fct_sales.yml`, `dim_customers.yml`

- YAMLファイルは、同じディレクトリ内のモデルファイルと直接関連付けられるよう配置し、命名します。

---

##### 3. **その他のファイル命名規則**
- **マクロファイル（`.sql`）**: 再利用可能なロジックやテンプレートは、`macros/`ディレクトリに格納し、用途を明確にする名前を付けます。
  - 例: `generate_surrogate_keys.sql`, `filter_active_records.sql`

- **テストファイル（`.yml`）**: カスタムテストを定義するファイルには、`test_`プレフィックスを付けます。
  - 例: `test_data_integrity.yml`

---

##### 4. **命名規則のメリット**
- **役割の明確化**: ファイル名を見るだけで、そのモデルがどのレイヤーに属するのかが一目でわかります。
- **一貫性の向上**: プレフィックスや命名ルールが統一されていることで、チーム全体でのコードレビューやデバッグが容易になります。
- **検索性の向上**: 明確な命名により、大規模プロジェクトでも目的のファイルを迅速に見つけられます。

この命名規則を遵守することで、プロジェクト内の整理整頓が保たれ、チームの生産性とデータモデルの品質が向上します。